<!DOCTYPE html>
<html>
<head>
    <title>Result Page</title>
</head>
<style>
    table {
        border-collapse: collapse;
        width: 100%;
    }

    th, td {
        border: 1px solid #ddd;
        padding: 8px;
        text-align: left;
    }

    th {
        background-color: #f2f2f2;
    }
</style>
<body>
    <h1>Data from Database</h1>

    <!-- Filter Form -->
    <form method="post" action="{% url 'index' %}">
        {% csrf_token %}
        <label for="item_filter">Filter by Item:</label>
        <select name="item_filter" id="item_filter">
            <option value="">All Items</option>
            {% for item in item_list %}
                <option value="{{ item }}">{{ item }}</option>
            {% endfor %}
        </select>
        <input type="submit" value="Filter">
    </form>

    <table>
        <thead>
            <tr>
                <th>Pod Name</th>
                <th>Name</th>
                <th>Item</th>
                <th>Number</th>
                <th>UUID</th>
            </tr>
        </thead>
        <tbody>
            {% for item in kafka_db_data %}
                <tr>
                    <td>{{ item.pod_name }}</td>
                    <td>{{ item.name }}</td>
                    <td>{{ item.item }}</td>
                    <td>{{ item.number }}</td>
                    <td>{{ item.uuid }}</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
</body>
</html>
